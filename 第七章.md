# 第七章课后答案

* 1

~~~C

//使用辗转相除法求最大公约数，最小公倍数
#include <stdio.h>
int main()
{
    int hcf(int, int);
    int lcd(int, int,int);
    int x, y, s,d;

    printf("please input two numbers\n");
    scanf("%d %d", &x, &y);
    s = hcf(x, y);
    printf("HCF is %d\n", s);
    d = lcd(x, y, s);
    printf("LCD is %d\n", d);
    return 0;
}
int hcf(int a, int b)
{
    int i,r;
    if (b>a)
    {
        i = a;
        a = b;
        b = i;
    }
    while ((r = a % b) != 0)
    {
        a = b;
        b = r;
    }
    return b;
}

int lcd(int a,int b ,int s)
{
    return (a * b / s);
}
~~~

* 2

~~~C
#include <stdio.h>
#include <math.h>
float x1, x2, disc, p, q;
int main()
{
    void greater_than_zero(float a,float b);
    void equal_to_zero(float a,float b);
    void smaller_than_zero(float a,float b);
    float a, b, c;
    printf("input a,b,c:");
    scanf("%f,%f,%f,%f", &a, &b, &c);
    printf("equation: %5.2f*x*x+%5.2f=0\n", a, b, c);
    disc = b * b - 4 * a * c;
    printf("root:\n");
    if (disc>0)
    {
        greater_than_zero(a,b);
        printf("x1=%f\t\tx2=%f\n",x1,x2);
    }
    else if (disc==0)
    {
        equal_to_zero(a,b);
        printf("x1=%f\t\tx2=%f\n",x1,x2);
    }
    else
    {
        smaller_than_zero(a,b);
        printf("x1=%f+%fi\tx2=%f-%fi\n",p,q,p,q);
    }
    return 0;
}

void greater_than_zero(float a,float b)
{
    x1=(-b+sqrt(disc))/(2*a);
    x2=(-b-sqrt(disc))/(2*a);
}

void equal_to_zero(float a,float b)
{
    x1=x2=(-b)/(2*a);
}

void smaller_than_zero(float a,float b)
{
    p=-b/(2*a);
    q=sqrt(-disc)/(2*a);
}

~~~

* 3

~~~C
#include <stdio.h>
int main()
{
    int prime(int);
    int n;
    printf("input an integer:");
    scanf("%d", &n);
    if (prime(n))
    {
        printf("%d is a prime\n", n);
    }
    else
    {
        printf("%d is not a prime\n", n);
    }
    return 0;
}
int prime(int n)
{
    int flag = 1, i;
    for (i = 2; i <= n / 2 && flag == 1; i++)
    {
        if (n % i == 0)
            flag = 0;
        return (flag);
    }
}
~~~

* 4

~~~C
#include <stdio.h>
#define N 3
int array[N][N];
int main()
{
    void convert(int array[ ][3]);
    int i, j;
    printf("input array:\n");
    for ( i = 0; i < N; i++)
    {
        for (j = 0; j < N;j++)
        {
            scanf("%d",&array[i][j]);
        }
    }
    printf("\noriginal array :\n");
    for (i = 0; i < N; i++)
    {
        for (j = 0; j < N; j++)
        {
            printf("%5d", array[i][j]);
        }
        printf("\n");
    }
    convert(array);
    printf("convert array:\n");
    for (i = 0; i < N; i++)
    {
        for (j = 0; j < N; j++)
        {
            printf("%5d", array[i][j]);
        }
        printf("\n");
    }
    return 0;
}
void convert(int array[][3])
{
    int i, j,t;
    for (i = 0; i < N; i++)
    {
        for (j = i+1; j < N; j++)
        {
            t = array[i][j];
            array[i][j] = array[j][i];
            array[j][i] = t;
        }
    }
}
~~~

* 5

~~~C
#include <stdio.h>
#include <string.h>
int main(){
    void inverse(char str[]);
    char str[100];
    printf("input string:");
    scanf("%s",str);
    inverse(str);
    printf("inverse string:%s\n",str);
    return 0;
}
void inverse(char str[])
{
    char t;
    int i, j;
    for (i = 0, j = strlen(str); i < (strlen(str) / 2);i++,j--)
    {
        t = str[i];
        str[i] = str[j - 1];
        str[j - 1] = t;
    }
}
~~~

* 6

~~~C
#include <stdio.h>
int main(){
    void concatenate(char[], char[], char[]);
    char s1[100], s2[100], s[100];
    printf("input string1:");
    scanf("%s",s1);
    printf("input string2:");
    scanf("%s", s2);
    concatenate(s1, s2, s);
    printf("\nThe new string is %s\n",s);
    return 0;
}

void concatenate(char string1[], char string2[], char string[])
{
    int i, j;
    for (i = 0; string1[i] != '\0'; i++)
    {
        string[i] = string1[i];
    }
    for (j = 0; string2[j] != '\0'; j++)
    {
        string[i+j] = string2[j];
    }
    string[i + j] = '\0';
}
~~~

* 7

~~~C
#include <stdio.h>
int main(){
    void cpy(char[], char[],char []);
    char str[80], c[80];
    char v[10] = {'a', 'A', 'e', 'E', 'i', 'I', 'o', 'O', 'u', 'U'};
    printf("input string:");
    gets(str);
    cpy(str, c,v);
    printf("The vowel letters are:%s\n", c);
    return 0;
}
void cpy(char s[], char c[],char v[])
{
    int i, j,k;
    for (i = 0, j = 0; s[i] != '\0';i++)
    {
        for (k = 0; k<=9;k++)
            if (s[i] ==v[k])
            {
                c[j] = s[i];
                j++;
            }
        c[j] = '\0';
    }
}
~~~

* 8

~~~C
#include <stdio.h>
#include <string.h>
int main()
{
    void insert(char[ ]);
    char str[80];
    printf("input four digits:");
    scanf("%s", str);
    insert(str);
    return 0;
}

void insert(char str[])
{
    int i;
    for (i = strlen(str); i > 0; i--)
    {
        str[2 * i] = str[i];
        str[2 * i - 1] = ' ';
    }
    printf("output:\n%s\n", str);
}
~~~

* 9

~~~C
#include <stdio.h>
int letter, digit, space, others;
int main(){
    void count(char[]);
    char text[80];
    printf("input string:\n");
    gets(text);
    printf("string");
    puts(text);
    letter = 0;
    digit = 0;
    space = 0;
    others = 0;
    count(text);
    printf("\nletter:%d\ndigit:%d\nspace:%d\nothers:%d\n",letter,digit,space,others);
    return 0;
}
void count(char str[])
{
    int i;
    for (i = 0; str[i] != '\0';i++)
    {
        if ((str[i]>='a'&&str[i]<='z')||(str[i]>='A'&&str[i]<='Z'))
        {
            letter++;
        }
        else if (str[i]>='0'&&str[i]<='9')
        {
            digit++;
        }
        else if (str[i]==32)
        {
            space++;
        }
        else
        {
            others++;
        }
    }
}
~~~

* 10

~~~C
#include <stdio.h>
#include <string.h>
int main(){
    int alphabetic(char);
    int longest(char[]);
    int i;
    char line[100];
    printf("input one line:\n");
    gets(line);
    printf("The longest word is :");
    for (i = longest(line); alphabetic(line[i]);i++)
        printf("%c",line[i]);
    printf("\n");
    return 0;
}
int alphabetic(char c)
{
    if ((c>='a'&&c<='z')||(c>='A'&&c<='Z'))
        return (1);
    else
        return (0);
}

int longest(char string[])
{
    int len = 0, length = 0, flag = 1, place = 0, point;
    for (int i = 0; i <= strlen(string);i++)
    {
        if(alphabetic(string[i]))
        {
            if(flag)
            {
                point = i;
                flag = 0;
            }
            else
                len++;
        }
        else
        {
            flag = 1;
            if(len>=length)
            {
                length = len;
                place = point;
                len = 0;
            }
        }
    }
    return (place);
}
~~~

~~~C

~~~

~~~C

~~~

~~~C

~~~
